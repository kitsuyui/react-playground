(self.webpackChunk_kitsuyui_react_storybook=self.webpackChunk_kitsuyui_react_storybook||[]).push([[925,543],{"../../node_modules/.pnpm/@mdx-js+react@3.0.1_@types+react@18.3.3_react@18.3.1/node_modules/@mdx-js/react/lib/index.js":(e,t,n)=>{"use strict";n.d(t,{R:()=>a,x:()=>i});var r=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");let o={},s=r.createContext(o);function a(e){let t=r.useContext(s);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:a(e.components),r.createElement(s.Provider,{value:t},e.children)}},"./stories/timer/Introduction.mdx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>c}),n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");var r=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),o=n("../../node_modules/.pnpm/@mdx-js+react@3.0.1_@types+react@18.3.3_react@18.3.1/node_modules/@mdx-js/react/lib/index.js"),s=n("../../node_modules/.pnpm/@storybook+blocks@8.2.2_react-dom@18.3.1_react@18.3.1__react@18.3.1_storybook@8.2.2_@babel+pr_d2rickzfoa4squf36t7r67bkki/node_modules/@storybook/blocks/dist/index.mjs"),a=n("./stories/timer/Example.stories.tsx");function i(e){let t={code:"code",h1:"h1",h2:"h2",p:"p",pre:"pre",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.h1,{id:"timer",children:"Timer"}),"\n","\n","\n",(0,r.jsx)(s.W8,{title:"Base/Timer/Introduction"}),"\n",(0,r.jsx)(s.Hl,{of:a.Default}),"\n",(0,r.jsx)(t.h2,{id:"installation",children:"Installation"}),"\n",(0,r.jsx)(t.p,{children:"Each component is published as a separate package."}),"\n",(0,r.jsx)(t.p,{children:"Use npm, yarn or pnpm to install."}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"$ npm install @kitsuyui/react-timer\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"$ yarn add @kitsuyui/react-timer\n"})}),"\n",(0,r.jsx)(t.pre,{children:(0,r.jsx)(t.code,{className:"language-sh",children:"$ pnpm add @kitsuyui/react-timer\n"})}),"\n",(0,r.jsx)(t.h2,{id:"usage",children:"Usage"})]})}function c(e={}){let{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(i,{...e})}):i(e)}},"../../node_modules/.pnpm/@storybook+core@8.2.2/node_modules/@storybook/core/dist/components sync recursive":e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id="../../node_modules/.pnpm/@storybook+core@8.2.2/node_modules/@storybook/core/dist/components sync recursive",e.exports=t},"../../node_modules/.pnpm/@storybook+core@8.2.2/node_modules/@storybook/core/dist/theming sync recursive":e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id="../../node_modules/.pnpm/@storybook+core@8.2.2/node_modules/@storybook/core/dist/theming sync recursive",e.exports=t},"./stories/timer/Example.stories.tsx":(e,t,n)=>{"use strict";n.r(t),n.d(t,{Default:()=>u,__namedExportsOrder:()=>m,default:()=>d}),n("../../packages/clock/dist/index.mjs"),n("../../packages/stopwatch/dist/index.mjs");var r=n("../../packages/timer/dist/index.mjs"),o=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),s=({onComplete:e})=>(0,o.jsx)(r.f9,{onComplete:e,children:(0,o.jsx)(r.PT.Consumer,{children:e=>(0,o.jsx)(r.le,{...e})})}),a=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js");function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(null,arguments)}var c=["id","volume","playbackRate","soundEnabled","interrupt","onload"];let l=function(e,t){var r,o=void 0===t?{}:t,s=o.volume,l=void 0===s?1:s,d=o.playbackRate,u=void 0===d?1:d,m=o.soundEnabled,p=void 0===m||m,h=o.interrupt,f=void 0!==h&&h,x=o.onload,j=function(e,t){if(null==e)return{};var n={};for(var r in e)if(({}).hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(o,c),_=a.useRef(null),v=a.useRef(!1),b=a.useState(null),k=b[0],y=b[1],g=a.useState(null),w=g[0],C=g[1],S=function(){"function"==typeof x&&x.call(this),v.current&&y(1e3*this.duration()),C(this)};r=function(){return n.e(582).then(n.t.bind(n,"../../node_modules/.pnpm/howler@2.2.4/node_modules/howler/dist/howler.js",23)).then(function(t){if(!v.current){var n;_.current=null!==(n=t.Howl)&&void 0!==n?n:t.default.Howl,v.current=!0,new _.current(i({src:Array.isArray(e)?e:[e],volume:l,rate:u,onload:S},j))}}),function(){v.current=!1}},(0,a.useEffect)(r,[]),a.useEffect(function(){_.current&&w&&C(new _.current(i({src:Array.isArray(e)?e:[e],volume:l,onload:S},j)))},[JSON.stringify(e)]),a.useEffect(function(){w&&(w.volume(l),w.rate(u))},[l,u]);var D=a.useCallback(function(e){void 0===e&&(e={}),w&&(p||e.forceSoundEnabled)&&(f&&w.stop(),e.playbackRate&&w.rate(e.playbackRate),w.play(e.id))},[w,p,f]),E=a.useCallback(function(e){w&&w.stop(e)},[w]),P=a.useCallback(function(e){w&&w.pause(e)},[w]);return[D,{sound:w,stop:E,pause:P,duration:k}]},d={title:"Base/Timer/Example",component:()=>{let[e]=l("/sound_effects/24.wav",{playbackRate:1});return a.createElement(s,{onComplete:()=>e()})}},u={args:{onComplete:()=>{}}},m=["Default"];u.parameters={...u.parameters,docs:{...u.parameters?.docs,source:{originalSource:"{\n  args: {\n    onComplete: () => {\n      return;\n    }\n  }\n}",...u.parameters?.docs?.source}}}},"../../node_modules/.pnpm/memoizerific@1.11.3/node_modules/memoizerific sync recursive":e=>{function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id="../../node_modules/.pnpm/memoizerific@1.11.3/node_modules/memoizerific sync recursive",e.exports=t},"../../packages/clock/dist/index.mjs":(e,t,n)=>{"use strict";n.d(t,{TX:()=>l,C_:()=>v,ec:()=>_,NX:()=>w});var r=n("../../node_modules/.pnpm/luxon@3.4.4/node_modules/luxon/src/luxon.js"),o=e=>0===e?"12":`${e}`,s=e=>{switch(e){case 0:return"Ⅻ";case 1:return"Ⅰ";case 2:return"Ⅱ";case 3:return"Ⅲ";case 4:return"Ⅳ";case 5:return"Ⅴ";case 6:return"Ⅵ";case 7:return"Ⅶ";case 8:return"Ⅷ";case 9:return"Ⅸ";case 10:return"Ⅹ";case 11:return"Ⅺ"}return`${e}`},a=(e,t)=>{switch(t){case"arabic":return o(e);case"roman":return s(e)}},i=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),c={width:100,height:100,step:"tick",face:"arabic",bigHand:{width:3,length:30,color:"black"},smallHand:{width:2,length:40,color:"black"},secondHand:{width:1,length:45,color:"red"},frame:{size:49,width:1,color:"black",backgroundColor:"white"},centerPoint:{size:2,color:"black"},hourLines:{width:1,length:4,color:"black"},minuteLines:{width:1,length:2,color:"black"}},l=e=>{let{timezone:t,date:n}=e,{width:o,height:s,bigHand:a,smallHand:l,secondHand:p,frame:f,step:x,face:j,centerPoint:_,hourLines:v,minuteLines:b}=function(e){let{width:t,height:n,step:r,face:o,bigHand:s,smallHand:a,secondHand:i,frame:l,centerPoint:d,hourLines:u,minuteLines:m}={...c,...e};return{width:t,height:n,step:r,face:o,bigHand:{...c.bigHand,...s},smallHand:{...c.smallHand,...a},secondHand:{...c.secondHand,...i},frame:{...c.frame,...l},centerPoint:{...c.centerPoint,...d},hourLines:{...c.hourLines,...u},minuteLines:{...c.minuteLines,...m}}}(e),{hour:k,minute:y,second:g}=function(e,t,n){switch(n){case"tick":return function(e,t){let n=r.c9.fromJSDate(e).setZone(t),o=n.minute/12|0;return{hour:n.hour+o/5,minute:n.minute,second:n.second}}(e,t);case"sweep":return function(e,t){let n=r.c9.fromJSDate(e).setZone(t);return{hour:n.hour+n.minute/60+n.second/3600,minute:n.minute+n.second/60,second:n.second+n.millisecond/1e3}}(e,t)}}(n,t,x),w=o/2,C=s/2;return(0,i.jsx)("div",{style:{width:`${o}px`,height:`${s}px`},children:(0,i.jsxs)("svg",{viewBox:`0 0 ${o} ${s}`,fill:"none",xmlns:"http://www.w3.org/2000/svg",width:o,height:s,children:[(0,i.jsx)("title",{children:`${k}:${y}:${g}`}),(0,i.jsx)("circle",{cx:w,cy:C,r:f.size,stroke:f.color,strokeWidth:f.width,fill:f.backgroundColor}),(0,i.jsx)("circle",{cx:w,cy:C,r:_.size,stroke:_.color,strokeWidth:_.size,fill:_.color}),(0,i.jsx)(u,{centerX:w,centerY:C,radius:f.size-v.length,...v}),(0,i.jsx)(m,{centerX:w,centerY:C,radius:f.size-b.length,...b}),(0,i.jsx)(h,{centerX:w,centerY:C,radius:f.size-b.length,faceType:j}),(0,i.jsx)(d,{centerX:w,centerY:C,degree:30*k,...a}),(0,i.jsx)(d,{centerX:w,centerY:C,degree:6*y,...l}),(0,i.jsx)(d,{centerX:w,centerY:C,degree:6*g,...p})]})})},d=e=>{let{centerX:t,centerY:n,degree:r,length:o,width:s,color:a}=e,c=f(r),l=t+o*Math.sin(c),d=n-o*Math.cos(c);return(0,i.jsx)("line",{x1:t,y1:n,x2:l,y2:d,stroke:a,strokeWidth:s})},u=e=>{let{centerX:t,centerY:n,radius:r,width:o,color:s,length:a}=e;return(0,i.jsx)(p,{centerX:t,centerY:n,radius:r,length:a,count:12,width:o,color:s})},m=e=>{let{centerX:t,centerY:n,radius:r,width:o,color:s,length:a}=e;return(0,i.jsx)(p,{centerX:t,centerY:n,radius:r,length:a,count:60,width:o,color:s})},p=e=>{let{centerX:t,centerY:n,radius:r,length:o,count:s,width:a,color:c}=e,l=[];for(let e=0;e<s;e++){let d=f(360/s*e),u=t+r*Math.sin(d),m=n+r*Math.cos(d),p=u+o*Math.sin(d),h=m+o*Math.cos(d);l.push((0,i.jsx)("line",{x1:u,y1:m,x2:p,y2:h,stroke:c,strokeWidth:a},e))}return(0,i.jsx)(i.Fragment,{children:l})},h=e=>{let{centerX:t,centerY:n,radius:r}=e,o=[],s=r/5,c=r-s,l={textAnchor:"middle",dominantBaseline:"central",fontSize:s,fontFamily:"monospace",fill:"black"};for(let r=0;r<12;r++){let s=f(30*r),d=t+c*Math.sin(s),u=n-c*Math.cos(s);o.push((0,i.jsx)("text",{x:d,y:u,...l,children:a(r,e.faceType)},r))}return(0,i.jsx)(i.Fragment,{children:o})};function f(e){return e*Math.PI/180}var x=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),j=n("../../node_modules/.pnpm/react-use@17.5.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-use/esm/useInterval.js"),_=x.createContext(new Date),v=e=>{let{children:t}=e,[n,r]=(0,x.useState)(new Date),o=e.refreshInterval||1e3;return(0,j.A)(()=>{r(new Date)},o),(0,i.jsx)(_.Provider,{value:n,children:t})},b=Object.defineProperty;((e,t)=>{for(var n in t)b(e,n,{get:t[n],enumerable:!0})})({},{zeroPad2:()=>y,zeroPad3:()=>g});var k=(e,t)=>String(e).padStart(t,"0"),y=e=>k(e,2),g=e=>k(e,3),w=e=>{let{timezone:t,date:n}=e,r=C(n,t);return(0,i.jsx)("div",{style:{width:"20em",fontFamily:"monospace"},children:r})},C=(e,t)=>{let n=r.c9.fromJSDate(e).setZone(t),o=y(n.hour%12),s=y(n.minute),a=y(n.second),i=n.hour<12?"AM":"PM";return`${o}:${s}:${a} ${i} (${t})`}},"../../packages/stopwatch/dist/index.mjs":(e,t,n)=>{"use strict";n.d(t,{zG:()=>l,pv:()=>f,TM:()=>m});var r=Object.defineProperty;((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})({},{zeroPad2:()=>s,zeroPad3:()=>a});var o=(e,t)=>String(e).padStart(t,"0"),s=e=>o(e,2),a=e=>o(e,3),i=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),c=e=>{let t=Math.floor(e/60);return`${s(t)}:${s(e%60|0)}.${a(e%1*1e3|0)}`},l=e=>{let{elapsedTime:t,running:n,toggle:r,reset:o}=e;return(0,i.jsx)("div",{style:{width:"6em",fontFamily:"monospace"},children:(0,i.jsxs)("form",{children:[(0,i.jsx)("span",{children:c(t)}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{type:"submit",name:"reset",onClick:e=>{e.preventDefault(),o()},children:"Reset"}),(0,i.jsx)("button",{type:"submit",onClick:e=>{e.preventDefault(),r()},children:n?"Stop":"Start"})]})})},d=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),u=n("../../node_modules/.pnpm/react-use@17.5.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-use/esm/useInterval.js"),m=d.createContext({elapsedTime:0,running:!1,start(){},stop(){},toggle(){},reset(){}}),p=(e,t)=>(t.getTime()-e.getTime())/1e3,h=e=>p(e,new Date),f=e=>{let{children:t}=e,n=e=>{},r=e.onStart??n,o=e.onStop??n,s=e.onReset??n,[a,c]=(0,d.useState)(!1),[l,p]=(0,d.useState)(0),[f,x]=(0,d.useState)(0),[j,_]=(0,d.useState)(new Date),v=e.refreshInterval||10;(0,u.A)(()=>{a&&b()},v);let b=()=>{p(h(j))},k=()=>{x(f+l),p(0)},y=()=>{a||(r(new CustomEvent("start",{})),_(new Date),c(!0))},g=()=>{a&&(o(new CustomEvent("stop",{})),b(),c(!1),k())};return(0,i.jsx)(m.Provider,{value:{elapsedTime:l+f,running:a,toggle:()=>{a?g():y()},reset:()=>{a&&g(),s(new CustomEvent("reset",{})),p(0),x(0)},start:y,stop:g},children:t})}},"../../packages/timer/dist/index.mjs":(e,t,n)=>{"use strict";n.d(t,{le:()=>l,f9:()=>h,PT:()=>m});var r=Object.defineProperty;((e,t)=>{for(var n in t)r(e,n,{get:t[n],enumerable:!0})})({},{zeroPad2:()=>s,zeroPad3:()=>a});var o=(e,t)=>String(e).padStart(t,"0"),s=e=>o(e,2),a=e=>o(e,3),i=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),c=e=>{let t=Math.floor(e/60);return`${s(t)}:${s(e%60|0)}.${a(e%1*1e3|0)}`},l=e=>{let{remaining:t,running:n,incrementTimerValue:r,toggle:o,reset:s}=e;return(0,i.jsx)("div",{style:{width:"6em",fontFamily:"monospace"},children:(0,i.jsxs)("form",{children:[(0,i.jsx)("span",{children:c(t)}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{type:"submit",name:"incrementMinute",onClick:e=>{e.preventDefault(),r(60)},children:"+分"}),(0,i.jsx)("button",{type:"submit",name:"incrementSecond",onClick:e=>{e.preventDefault(),r(1)},children:"+秒"}),(0,i.jsx)("br",{}),(0,i.jsx)("button",{type:"submit",name:"reset",onClick:e=>{e.preventDefault(),s()},children:"Reset"}),(0,i.jsx)("button",{type:"submit",onClick:e=>{e.preventDefault(),o()},children:n?"Stop":"Start"})]})})},d=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),u=n("../../node_modules/.pnpm/react-use@17.5.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/react-use/esm/useInterval.js"),m=d.createContext({remaining:0,running:!1,start(){},stop(){},toggle(){},reset(){},incrementTimerValue(e){},setTimerValue(e){}}),p=e=>(e.getTime()-new Date().getTime())/1e3,h=e=>{let{children:t}=e,n=e=>{},r=e.onStart??n,o=e.onStop??n,s=e.onComplete??n,a=e.onReset??n,[c,l]=(0,d.useState)(!1),[h,f]=(0,d.useState)(new Date),[x,j]=(0,d.useState)(0),_=e.refreshInterval||10;(0,u.A)(()=>{v()},_);let v=()=>{if(c){let e=p(h);j(e),e<=0&&(j(0),l(!1),s(new CustomEvent("complete",{})))}},b=()=>{x<=0||c||(f(new Date(Date.now()+1e3*x)),l(!0),r(new CustomEvent("start",{})))},k=()=>{c&&(l(!1),o(new CustomEvent("stop",{})))};return(0,i.jsx)(m.Provider,{value:{remaining:x,running:c,toggle:()=>{c?k():b()},reset:()=>{c&&k(),j(0),a(new CustomEvent("reset",{}))},start:b,stop:k,setTimerValue(e){k(),j(e||0)},incrementTimerValue(e){k(),j(x+e)}},children:t})}}}]);