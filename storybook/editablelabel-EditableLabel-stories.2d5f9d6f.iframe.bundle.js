"use strict";(self.webpackChunk_kitsuyui_react_storybook=self.webpackChunk_kitsuyui_react_storybook||[]).push([[5954],{"./stories/editablelabel/EditableLabel.stories.tsx":(e,t,n)=>{n.r(t),n.d(t,{Default:()=>s,__namedExportsOrder:()=>c,default:()=>u});var r=n("../../packages/textfield/dist/index.mjs"),a=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),o=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),l=e=>{let{text:t,onEditComplete:n}=e,l=(0,a.useRef)(null),[u,s]=(0,a.useState)(!1),[c,i]=(0,a.useState)("view"),d=e.enterToSubmit??!0,[p,m]=(0,a.useState)(t),f=(0,a.useCallback)(()=>{i("view"),n?.(p)},[n,p]),C=(0,a.useCallback)(()=>{i("edit")},[]);(0,a.useEffect)(()=>{"edit"===c&&l?.current?.focus()},[c]);let x=(0,a.useCallback)(e=>{d&&"Enter"===e.key&&!u&&f()},[d,u,f]);return/* @__PURE__ */(0,o.jsxs)(o.Fragment,{children:[/* @__PURE__ */(0,o.jsx)("span",{onClick:C,style:{display:"view"===c?"inline":"none"},children:t}),/* @__PURE__ */(0,o.jsx)(r.A_,{ref:l,style:{display:"edit"===c?"inline":"none"},value:t,onInputChunk:m,onChangeInputting:s,onSubmit:f,onKeyDown:x,onBlur:f})]})};let u={title:"Base/EditableLabel/Example",component:()=>{let[e,t]=(0,a.useState)("Let's edit me!");return /*#__PURE__*/a.createElement(l,{text:e,onEditComplete:e=>t(e)})},argTypes:{text:{control:{type:"text"}}}},s={args:{text:"Let's edit me!"},decorators:[e=>/*#__PURE__*/a.createElement(e,null)]},c=["Default"];s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:'{\n  args: {\n    text: "Let\'s edit me!"\n  },\n  decorators: [Story => {\n    return <Story />;\n  }]\n}',...s.parameters?.docs?.source}}}},"../../node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js":(e,t,n)=>{/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),a=Symbol.for("react.element"),o=Symbol.for("react.fragment"),l=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,o={},c=null,i=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(i=t.ref),t)l.call(t,r)&&!s.hasOwnProperty(r)&&(o[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===o[r]&&(o[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:i,props:o,_owner:u.current}}t.Fragment=o,t.jsx=c,t.jsxs=c},"../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js":(e,t,n)=>{e.exports=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/cjs/react-jsx-runtime.production.min.js")},"../../packages/textfield/dist/index.mjs":(e,t,n)=>{n.d(t,{k2:()=>f,N1:()=>p,fs:()=>u,A_:()=>s,T8:()=>m});var r=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/index.js"),a=(...e)=>(0,r.useMemo)(()=>e.every(e=>null==e)?null:t=>{for(let n of e)n&&o(n,t)},[e]),o=(e,t)=>{if(e){if("function"==typeof e){e(t);return}try{e.current=t}catch(n){throw Error(`Cannot assign value '${t}' to ref '${e}'`)}}},l=n("../../node_modules/.pnpm/react@18.3.1/node_modules/react/jsx-runtime.js"),u=/*#__PURE__*/(0,r.forwardRef)((e,t)=>{let{onInputChunk:n,onChangeInputting:o}=e,[u,s]=(0,r.useState)(e.value??""),[c,i]=(0,r.useState)(!1),d=(0,r.useRef)(null),p=a(d,t),{onInputChunk:m,onChangeInputting:f,...C}=Object.assign({},e),x=C.onBlur;(0,r.useEffect)(()=>{s(e.value??"")},[e.value]);let _=(0,r.useCallback)(()=>{let e=d?.current?.value??"";s(e),c||n?.(e)},[c,n]),v=(0,r.useCallback)(()=>{s(d?.current?.value??""),i(!0),o?.(!0)},[o]),k=(0,r.useCallback)(()=>{let e=d?.current?.value??"";s(e),i(!1),o?.(!1),n?.(e)},[n,o]),b=(0,r.useCallback)(e=>{let t=d?.current?.value??"";s(t),i(!1),o?.(!1),n?.(t),x?.(e)},[n,o,x]);return/* @__PURE__ */(0,l.jsx)("textarea",{...C,ref:p,value:u,onCompositionStart:v,onCompositionUpdate:v,onCompositionEnd:k,onBlur:b,onChange:_})});u.displayName="TextArea";var s=/*#__PURE__*/(0,r.forwardRef)((e,t)=>{let n=(0,r.useRef)(null),{onInputChunk:o,onChangeInputting:u}=e,[s,c]=(0,r.useState)(e.value??""),[i,d]=(0,r.useState)(!1),p=a(n,t),{onInputChunk:m,onChangeInputting:f,...C}=Object.assign({},e),x=C.onBlur;(0,r.useEffect)(()=>{c(e.value??"")},[e.value]);let _=(0,r.useCallback)(()=>{let e=n?.current?.value??"";c(e),i||o?.(e)},[i,o]),v=(0,r.useCallback)(()=>{c(n?.current?.value??""),d(!0),u?.(!0)},[u]),k=(0,r.useCallback)(()=>{let e=n?.current?.value??"";c(e),u?.(!1),o?.(e),d(!1)},[o,u]),b=(0,r.useCallback)(e=>{let t=n?.current?.value??"";c(t),d(!1),u?.(!1),o?.(t),x?.(e)},[o,u,x]);return/* @__PURE__ */(0,l.jsx)("input",{...C,type:"text",ref:p,value:s,onCompositionStart:v,onCompositionUpdate:v,onCompositionEnd:k,onBlur:b,onChange:_})});s.displayName="TextField";var c=/*#__PURE__*/(0,r.createContext)(""),i=/*#__PURE__*/(0,r.createContext)(e=>{}),d=/*#__PURE__*/(0,r.createContext)(()=>{}),p=e=>{let[t,n]=(0,r.useState)(""),[a]=(0,r.useState)(),o=(0,r.useCallback)(()=>{n(""),a?.("")},[a]);return/* @__PURE__ */(0,l.jsx)(c.Provider,{value:t,children:/* @__PURE__ */(0,l.jsx)(i.Provider,{value:n,children:/* @__PURE__ */(0,l.jsx)(d.Provider,{value:o,children:e.children})})})},m=e=>{let t=(0,r.useContext)(c),n=(0,r.useContext)(i),a=e.onInputChunk,o=(0,r.useCallback)(e=>{n(e),a?.(e)},[n,a]);return(0,r.useEffect)(()=>{n(e.value??"")},[e.value,n]),/* @__PURE__ */(0,l.jsx)(s,{...e,value:t,onInputChunk:o})},f=/*#__PURE__*/(0,r.forwardRef)((e,t)=>{let n=Object.assign({},e),a=(0,r.useContext)(d),{onClick:o}=e,u=(0,r.useCallback)(e=>{a(),o?.(e)},[a,o]),s=e.type??"button";return/* @__PURE__ */(0,l.jsx)("button",{...n,ref:t,onClick:u,type:s,children:e.children})});f.displayName="ClearButton"}}]);