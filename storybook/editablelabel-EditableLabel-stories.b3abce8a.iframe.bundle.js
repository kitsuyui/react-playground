"use strict";(self.webpackChunk_kitsuyui_react_storybook=self.webpackChunk_kitsuyui_react_storybook||[]).push([[2543,5954,7158],{"./stories/editablelabel/EditableLabel.stories.tsx":(e,t,n)=>{n.r(t),n.d(t,{Default:()=>s,__namedExportsOrder:()=>i,default:()=>o});var r=n("../../packages/textfield/dist/index.mjs"),a=n("../../node_modules/.pnpm/react@19.0.0/node_modules/react/index.js"),l=n("../../node_modules/.pnpm/react@19.0.0/node_modules/react/jsx-runtime.js"),u=e=>{let{text:t,onEditComplete:n}=e,u=(0,a.useRef)(null),[o,s]=(0,a.useState)(!1),[i,c]=(0,a.useState)("view"),d=e.enterToSubmit??!0,[p,m]=(0,a.useState)(t),f=(0,a.useCallback)(()=>{c("view"),n?.(p)},[n,p]),C=(0,a.useCallback)(()=>{c("edit")},[]);(0,a.useEffect)(()=>{"edit"===i&&u?.current?.focus()},[i]);let x=(0,a.useCallback)(e=>{d&&"Enter"===e.key&&!o&&f()},[d,o,f]);return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("span",{onClick:C,style:{display:"view"===i?"inline":"none"},children:t}),(0,l.jsx)(r.A_,{ref:u,style:{display:"edit"===i?"inline":"none"},value:t,onInputChunk:m,onChangeInputting:s,onSubmit:f,onKeyDown:x,onBlur:f})]})};let o={title:"Base/EditableLabel/Example",component:()=>{let[e,t]=(0,a.useState)("Let's edit me!");return a.createElement(u,{text:e,onEditComplete:e=>t(e)})},argTypes:{text:{control:{type:"text"}}}},s={args:{text:"Let's edit me!"},decorators:[e=>a.createElement(e,null)]},i=["Default"];s.parameters={...s.parameters,docs:{...s.parameters?.docs,source:{originalSource:'{\n  args: {\n    text: "Let\'s edit me!"\n  },\n  decorators: [Story => {\n    return <Story />;\n  }]\n}',...s.parameters?.docs?.source}}}},"../../node_modules/.pnpm/react@19.0.0/node_modules/react/cjs/react-jsx-runtime.production.js":(e,t)=>{/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(e,t,r){var a=null;if(void 0!==r&&(a=""+r),void 0!==t.key&&(a=""+t.key),"key"in t)for(var l in r={},t)"key"!==l&&(r[l]=t[l]);else r=t;return{$$typeof:n,type:e,key:a,ref:void 0!==(t=r.ref)?t:null,props:r}}t.Fragment=r,t.jsx=a,t.jsxs=a},"../../node_modules/.pnpm/react@19.0.0/node_modules/react/jsx-runtime.js":(e,t,n)=>{e.exports=n("../../node_modules/.pnpm/react@19.0.0/node_modules/react/cjs/react-jsx-runtime.production.js")},"../../packages/textfield/dist/index.mjs":(e,t,n)=>{n.d(t,{k2:()=>f,N1:()=>p,fs:()=>o,A_:()=>s,T8:()=>m});var r=n("../../node_modules/.pnpm/react@19.0.0/node_modules/react/index.js"),a=(...e)=>(0,r.useMemo)(()=>e.every(e=>null==e)?null:t=>{for(let n of e)n&&l(n,t)},[e]),l=(e,t)=>{if(e){if("function"==typeof e){e(t);return}try{e.current=t}catch(n){throw Error(`Cannot assign value '${t}' to ref '${e}'`)}}},u=n("../../node_modules/.pnpm/react@19.0.0/node_modules/react/jsx-runtime.js"),o=(0,r.forwardRef)((e,t)=>{let{onInputChunk:n,onChangeInputting:l}=e,[o,s]=(0,r.useState)(e.value??""),[i,c]=(0,r.useState)(!1),d=(0,r.useRef)(null),p=a(d,t),{onInputChunk:m,onChangeInputting:f,...C}=Object.assign({},e),x=C.onBlur;(0,r.useEffect)(()=>{s(e.value??"")},[e.value]);let v=(0,r.useCallback)(()=>{let e=d?.current?.value??"";s(e),i||n?.(e)},[i,n]),k=(0,r.useCallback)(()=>{s(d?.current?.value??""),c(!0),l?.(!0)},[l]),b=(0,r.useCallback)(()=>{let e=d?.current?.value??"";s(e),c(!1),l?.(!1),n?.(e)},[n,l]),j=(0,r.useCallback)(e=>{let t=d?.current?.value??"";s(t),c(!1),l?.(!1),n?.(t),x?.(e)},[n,l,x]);return(0,u.jsx)("textarea",{...C,ref:p,value:o,onCompositionStart:k,onCompositionUpdate:k,onCompositionEnd:b,onBlur:j,onChange:v})});o.displayName="TextArea";var s=(0,r.forwardRef)((e,t)=>{let n=(0,r.useRef)(null),{onInputChunk:l,onChangeInputting:o}=e,[s,i]=(0,r.useState)(e.value??""),[c,d]=(0,r.useState)(!1),p=a(n,t),{onInputChunk:m,onChangeInputting:f,...C}=Object.assign({},e),x=C.onBlur;(0,r.useEffect)(()=>{i(e.value??"")},[e.value]);let v=(0,r.useCallback)(()=>{let e=n?.current?.value??"";i(e),c||l?.(e)},[c,l]),k=(0,r.useCallback)(()=>{i(n?.current?.value??""),d(!0),o?.(!0)},[o]),b=(0,r.useCallback)(()=>{let e=n?.current?.value??"";i(e),o?.(!1),l?.(e),d(!1)},[l,o]),j=(0,r.useCallback)(e=>{let t=n?.current?.value??"";i(t),d(!1),o?.(!1),l?.(t),x?.(e)},[l,o,x]);return(0,u.jsx)("input",{...C,type:"text",ref:p,value:s,onCompositionStart:k,onCompositionUpdate:k,onCompositionEnd:b,onBlur:j,onChange:v})});s.displayName="TextField";var i=(0,r.createContext)(""),c=(0,r.createContext)(e=>{}),d=(0,r.createContext)(()=>{}),p=e=>{let[t,n]=(0,r.useState)(""),[a]=(0,r.useState)(),l=(0,r.useCallback)(()=>{n(""),a?.("")},[a]);return(0,u.jsx)(i.Provider,{value:t,children:(0,u.jsx)(c.Provider,{value:n,children:(0,u.jsx)(d.Provider,{value:l,children:e.children})})})},m=e=>{let t=(0,r.useContext)(i),n=(0,r.useContext)(c),a=e.onInputChunk,l=(0,r.useCallback)(e=>{n(e),a?.(e)},[n,a]);return(0,r.useEffect)(()=>{n(e.value??"")},[e.value,n]),(0,u.jsx)(s,{...e,value:t,onInputChunk:l})},f=(0,r.forwardRef)((e,t)=>{let n=Object.assign({},e),a=(0,r.useContext)(d),{onClick:l}=e,o=(0,r.useCallback)(e=>{a(),l?.(e)},[a,l]),s=e.type??"button";return(0,u.jsx)("button",{...n,ref:t,onClick:o,type:s,children:e.children})});f.displayName="ClearButton"}}]);